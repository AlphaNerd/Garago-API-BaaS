{"version":3,"sources":["../../src/mailgun-tester/index.js"],"names":["mailgunConfig","require","API_KEY","apiKey","FROM","fromAddress","DOMAIN","domain","RECIPIENT","recipient","USERNAME","username","APP_NAME","appName","MailgunAdapter","path","Parse","User","get","key","config","templates","passwordResetEmail","subject","pathPlainText","resolve","__dirname","pathHtml","callback","user","verificationEmail","customAlert","variables","adapter","_sendMail","templateName","direct"],"mappings":";;AAAA;AACI;AACA;;;;;;;;;;AAUAA,gBAAgBC,QAAQ,oBAAR,CAZpB;AAAA,MAaIC,UAAUF,cAAcG,MAb5B;AAAA,MAcIC,OAAOJ,cAAcK,WAdzB;AAAA,MAeIC,SAASN,cAAcO,MAf3B;AAAA,MAgBIC,YAAYR,cAAcS,SAhB9B;AAAA,MAiBIC,WAAWV,cAAcW,QAjB7B;AAAA,MAkBIC,WAAWZ,cAAca,OAlB7B;;AAoBA,MAAMC,iBAAiBb,QAAQ,mBAAR,CAAvB;AACA,MAAMc,OAAOd,QAAQ,MAAR,CAAb;AACA,MAAMe,QAAQ;AACVC,UAAM,MAAMA,IAAN,CAAW;AACbC,YAAIC,GAAJ,EAAS;AACL,gBAAGA,QAAQ,UAAX,EAAuB,OAAOT,QAAP,CAAvB,KACK,IAAGS,QAAQ,OAAX,EAAoB,OAAOX,SAAP;AAC5B;AAJY;AADP,CAAd;;AASA,MAAMY,SAAS;AACXjB,YAAQD,OADG;AAEXG,iBAAaD,IAFF;AAGXG,YAAQD,MAHG;AAIXe,eAAW;AACPC,4BAAoB;AAChBC,qBAAS,qBADO;AAEhBC,2BAAeT,KAAKU,OAAL,CAAaC,SAAb,EAAwB,qDAAxB,CAFC;AAGhBC,sBAAUZ,KAAKU,OAAL,CAAaC,SAAb,EAAwB,sDAAxB,CAHM;AAIhBE,sBAAWC,IAAD,IAAU,CAAE;AAJN,SADb;AAOPC,2BAAmB;AACfP,qBAAS,sBADM;AAEfC,2BAAeT,KAAKU,OAAL,CAAaC,SAAb,EAAwB,mDAAxB,CAFA;AAGfC,sBAAUZ,KAAKU,OAAL,CAAaC,SAAb,EAAwB,oDAAxB,CAHK;AAIfE,sBAAWC,IAAD,IAAU,CAAE;AAJP,SAPZ;AAaPE,qBAAa;AACTR,qBAAS,kBADA;AAETC,2BAAeT,KAAKU,OAAL,CAAaC,SAAb,EAAwB,6CAAxB,CAFN;AAGTC,sBAAUZ,KAAKU,OAAL,CAAaC,SAAb,EAAwB,8CAAxB,CAHD;AAITM,uBAAW;AACPrB,0BAAUD,QADH;AAEPG,yBAASD;AAFF;AAJF;AAbN;AAJA,CAAf;;AA6BA,MAAMqB,UAAU,IAAInB,cAAJ,CAAmBM,MAAnB,CAAhB;AACA,MAAMS,OAAO,IAAIb,MAAMC,IAAV,EAAb;;AAEAgB,QAAQC,SAAR,CAAkB;AACdC,kBAAc,aADA;AAEdZ,aAAS,cAFK;AAGdd,eAAWD,SAHG;AAIdwB,eAAW,EAAEnB,SAASD,QAAX,EAAqBD,UAAUD,QAA/B,EAJG;AAKd0B,YAAQ;AALM,CAAlB","file":"index.js","sourcesContent":["const\n    // NOTE: you need to create mailgun.json yourself in the module's root directory\n    /* Example\n    {\n        \"apiKey\": \"...\",\n        \"fromAddress\": \"...\",\n        \"domain\": \"...\",\n        \"recipient\": \"...\",\n        \"username\": \"...\",\n        \"appName\": \"...\"\n    }\n    */\n    mailgunConfig = require('../../mailgun.json'),\n    API_KEY = mailgunConfig.apiKey,\n    FROM = mailgunConfig.fromAddress,\n    DOMAIN = mailgunConfig.domain,\n    RECIPIENT = mailgunConfig.recipient,\n    USERNAME = mailgunConfig.username,\n    APP_NAME = mailgunConfig.appName;\n\nconst MailgunAdapter = require('../MailgunAdapter');\nconst path = require('path');\nconst Parse = {\n    User: class User {\n        get(key) {\n            if(key === 'username') return USERNAME;\n            else if(key === 'email') return RECIPIENT;\n        }\n    }\n};\n\nconst config = {\n    apiKey: API_KEY,\n    fromAddress: FROM,\n    domain: DOMAIN,\n    templates: {\n        passwordResetEmail: {\n            subject: 'Reset your password',\n            pathPlainText: path.resolve(__dirname, '../../test/email-templates/password_reset_email.txt'),\n            pathHtml: path.resolve(__dirname, '../../test/email-templates/password_reset_email.html'),\n            callback: (user) => {}\n        },\n        verificationEmail: {\n            subject: 'Confirm your account',\n            pathPlainText: path.resolve(__dirname, '../../test/email-templates/verification_email.txt'),\n            pathHtml: path.resolve(__dirname, '../../test/email-templates/verification_email.html'),\n            callback: (user) => {}\n        },\n        customAlert: {\n            subject: 'Important notice',\n            pathPlainText: path.resolve(__dirname, '../../test/email-templates/custom_email.txt'),\n            pathHtml: path.resolve(__dirname, '../../test/email-templates/custom_email.html'),\n            variables: {\n                username: USERNAME,\n                appName: APP_NAME\n            }\n        }\n    }\n};\n\nconst adapter = new MailgunAdapter(config);\nconst user = new Parse.User();\n\nadapter._sendMail({\n    templateName: 'customAlert',\n    subject: 'Test message',\n    recipient: RECIPIENT,\n    variables: { appName: APP_NAME, username: USERNAME },\n    direct: true\n});"]}